"use strict";function mouseDown(){isCursorOverPoint&&(isDragging=!0,canvas.style.cursor="grab",map.on("mousemove",onMove),map.on("mouseup",onUp))}function onMove(e){if(isDragging){var o=e.lngLat;canvas.style.cursor="grabbing",geojson.features[0].geometry.coordinates=[o.lng,o.lat],map.getSource("single-point").setData(geojson)}}function onUp(e){if(isDragging){var o=e.lngLat;coordinates.innerHTML="Longitude: "+o.lng+"<br />Latitude: "+o.lat,locationjav.innerHTML=o.lng+", "+o.lat,canvas.style.cursor="",isDragging=!1,document.getElementById("location-div").style.display=""}}var map=new mapboxgl.Map({container:"map",center:[-90,70],zoom:2});map.on("mousemove",function(e){document.getElementById("info").innerHTML=JSON.stringify(e.point)+"<br />"+JSON.stringify(e.lngLat)});var isDragging,isCursorOverPoint,coordinates=document.getElementById("coordinates"),locationjav=document.getElementById("sighting_location");document.getElementById("location-div").style.display="none ";var map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v9",center:[-90.1203,29.9412],zoom:15}),canvas=map.getCanvasContainer(),geojson={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[0,0]}}]},geocoder=new mapboxgl.Geocoder({container:"geocoder-container"});map.addControl(geocoder),map.on("load",function(){map.addSource("single-point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[0,0]}}]}}),map.addLayer({id:"point",source:"single-point",type:"circle",paint:{"circle-radius":10,"circle-color":"#007cbf"}}),map.on("mousemove",function(e){var o=map.queryRenderedFeatures(e.point,{layers:["point"]});o.length?(map.setPaintProperty("point","circle-color",'#007cb"'),canvas.style.cursor="move",isCursorOverPoint=!0,map.dragPan.disable()):(map.setPaintProperty("point","circle-color","#3887be"),canvas.style.cursor="",isCursorOverPoint=!1,map.dragPan.enable())}),map.on("mousedown",mouseDown,!0),geocoder.on("result",function(e){map.getSource("single-point").setData(e.result.geometry)})}),point.features.forEach(function(e){var o=document.createElement("div");o.className="marker",o.style.backgroundImage="url(https://placekitten.com/g/"+e.properties.iconSize.join("/")+"/)",o.style.width=e.properties.iconSize[0]+"px",o.style.height=e.properties.iconSize[1]+"px",o.addEventListener("click",function(){window.alert(e.properties.message)}),new mapboxgl.Marker(o,{offset:[-e.properties.iconSize[0]/2,-e.properties.iconSize[1]/2]}).setLngLat(e.geometry.coordinates).addTo(map)}),$("input").keypress(function(e){if(13==e.keyCode){e.preventDefault();var o=$(this).parents("form").eq(0).find(":input"),t=o.index(this);return t==o.length-1?o[0].select():(o[t+1].focus(),o[t+1].select()),!1}});